<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Local Chat System</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; height: 100vh; display: flex; flex-direction: column; }
        
        .header { background: #2c3e50; color: white; padding: 1rem; text-align: center; }
        .header h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .header p { opacity: 0.8; font-size: 0.9rem; }
        
        .chat-container { flex: 1; display: flex; flex-direction: column; max-width: 800px; margin: 0 auto; width: 100%; background: white; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        
        .messages { flex: 1; overflow-y: auto; padding: 1rem; background: white; }
        .message { margin-bottom: 1rem; }
        .message.user { text-align: right; }
        .message.assistant { text-align: left; }
        
        .message-content { display: inline-block; max-width: 70%; padding: 0.8rem 1rem; border-radius: 18px; word-wrap: break-word; }
        .user .message-content { background: #007cba; color: white; }
        .assistant .message-content { background: #e9ecef; color: #333; }
        
        .message-time { font-size: 0.7rem; opacity: 0.6; margin-top: 0.3rem; }
        
        .input-area { border-top: 1px solid #ddd; padding: 1rem; background: #f8f9fa; }
        .input-container { display: flex; gap: 0.5rem; }
        .input-container input { flex: 1; padding: 0.8rem; border: 1px solid #ddd; border-radius: 20px; font-size: 1rem; }
        .input-container button { padding: 0.8rem 1.5rem; background: #007cba; color: white; border: none; border-radius: 20px; cursor: pointer; font-size: 1rem; }
        .input-container button:hover { background: #005a8b; }
        .input-container button:disabled { background: #ccc; cursor: not-allowed; }
        
        .mode-selector { margin-bottom: 0.5rem; }
        .mode-selector select { padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px; background: white; }
        
        .typing { opacity: 0.6; font-style: italic; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ’¬ Simple Local Chat System</h1>
        <p>No external APIs required - works completely offline</p>
    </div>
    
    <div class="chat-container">
        <div class="messages" id="messages">
            <div class="message assistant">
                <div class="message-content">
                    ðŸ‘‹ Hello! I'm a simple local chat assistant. I can help you with basic questions, generate ideas, and provide responses without needing any external APIs.
                    <br><br>
                    Try asking me something!
                </div>
                <div class="message-time">System - Just now</div>
            </div>
        </div>
        
        <div class="input-area">
            <div class="mode-selector">
                <label>Response Mode:</label>
                <select id="responseMode">
                    <option value="helpful">Helpful Assistant</option>
                    <option value="creative">Creative Writer</option>
                    <option value="technical">Technical Helper</option>
                    <option value="research">Research Assistant</option>
                </select>
            </div>
            <div class="input-container">
                <input type="text" id="messageInput" placeholder="Type your message..." maxlength="500">
                <button id="sendButton" onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <script>
        // Simple local AI responses - no external APIs
        const responses = {
            helpful: [
                "That's an interesting question! Let me think about that...",
                "I'd be happy to help you with that.",
                "Here's what I think about your question:",
                "That's a great point. Let me provide some thoughts:",
                "I understand what you're asking. Here's my take:"
            ],
            creative: [
                "What an imaginative question! Let me explore that creatively...",
                "That sparks my creativity! Here's an interesting perspective:",
                "I love creative challenges! Let me craft something unique:",
                "Your question inspires me to think outside the box:",
                "That's wonderfully creative! Here's what comes to mind:"
            ],
            technical: [
                "From a technical perspective, let me analyze that:",
                "That's a good technical question. Here's how I'd approach it:",
                "Technically speaking, there are several aspects to consider:",
                "Let me break down the technical details:",
                "From an engineering standpoint, here's what I think:"
            ],
            research: [
                "That's an excellent research question! Let me investigate:",
                "From a research perspective, there are multiple angles to explore:",
                "Based on general knowledge, here's what I can tell you:",
                "That requires some analytical thinking. Here's my analysis:",
                "Let me provide a comprehensive overview of that topic:"
            ]
        };

        // Knowledge base for better responses
        const knowledgeBase = {
            javascript: "JavaScript is a versatile programming language primarily used for web development. It's dynamically typed and supports both functional and object-oriented programming paradigms.",
            react: "React is a popular JavaScript library for building user interfaces, developed by Facebook. It uses a component-based architecture and virtual DOM for efficient rendering.",
            api: "An API (Application Programming Interface) is a set of protocols and tools for building software applications. It defines how different software components should interact.",
            ai: "Artificial Intelligence refers to computer systems that can perform tasks typically requiring human intelligence, such as learning, reasoning, and problem-solving.",
            programming: "Programming is the process of creating instructions for computers to execute. It involves writing code in various languages to solve problems or create applications.",
            web: "Web development involves creating websites and web applications using technologies like HTML, CSS, JavaScript, and various frameworks and libraries."
        };

        // Get better contextual responses
        function getSmartResponse(userMessage, mode) {
            const message = userMessage.toLowerCase();
            const modeResponses = responses[mode] || responses.helpful;
            const randomIntro = modeResponses[Math.floor(Math.random() * modeResponses.length)];
            
            // Check for keywords and provide relevant information
            let contextualResponse = "";
            
            for (const [keyword, info] of Object.entries(knowledgeBase)) {
                if (message.includes(keyword)) {
                    contextualResponse = `\\n\\n${info}`;
                    break;
                }
            }
            
            // Generate responses based on message content
            if (message.includes("hello") || message.includes("hi")) {
                return "Hello! Great to meet you. How can I assist you today?";
            } else if (message.includes("how are you")) {
                return "I'm doing well, thank you for asking! I'm here and ready to help you with any questions or tasks.";
            } else if (message.includes("what") && message.includes("name")) {
                return "I'm a simple local chat assistant - no fancy name needed! I'm here to help you with questions and ideas.";
            } else if (message.includes("help")) {
                return "I'd be happy to help! You can ask me about programming, web development, technology concepts, or general questions. I'll do my best to provide useful information.";
            } else if (message.includes("time") || message.includes("date")) {
                return `The current time is ${new Date().toLocaleString()}. Is there anything else I can help you with?`;
            } else if (message.includes("weather")) {
                return "I don't have access to real-time weather data since I'm a local system, but I'd recommend checking a weather app or website for current conditions in your area.";
            } else if (message.length < 10) {
                return `${randomIntro} Could you provide a bit more detail so I can give you a better response?`;
            } else {
                return `${randomIntro} ${this.generateContextualContent(message, mode)}${contextualResponse}`;
            }
        }

        // Generate content based on message and mode
        function generateContextualContent(message, mode) {
            const templates = {
                helpful: [
                    "Based on your question, I think the key points to consider are the practical implications and how this might affect your specific situation.",
                    "This is definitely something worth exploring further. The approach I'd suggest is to break it down into manageable steps.",
                    "That's a thoughtful question that touches on several important aspects. Let me address the main points."
                ],
                creative: [
                    "This opens up so many creative possibilities! Imagine if we could explore this from completely different angles.",
                    "What a fascinating concept to explore! This reminds me of the endless creative potential we have when we think beyond conventional boundaries.",
                    "Your question sparks all sorts of imaginative scenarios. The creative possibilities are truly limitless here."
                ],
                technical: [
                    "From a technical implementation standpoint, this involves several key components that work together in a systematic way.",
                    "The technical architecture for this would need to consider scalability, performance, and maintainability as core requirements.",
                    "This is an interesting technical challenge that requires careful consideration of the underlying systems and potential edge cases."
                ],
                research: [
                    "This topic has been studied from multiple perspectives, and the current understanding suggests several interesting patterns.",
                    "Research in this area indicates that there are both theoretical frameworks and practical applications worth considering.",
                    "The evidence points to some compelling insights that could influence how we approach similar challenges."
                ]
            };
            
            const modeTemplates = templates[mode] || templates.helpful;
            return modeTemplates[Math.floor(Math.random() * modeTemplates.length)];
        }

        function addMessage(content, sender) {
            const messagesContainer = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            messageDiv.innerHTML = `
                <div class="message-content">${content}</div>
                <div class="message-time">${sender === 'user' ? 'You' : 'Assistant'} - ${time}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessage(message, 'user');
            
            // Clear input and disable button
            input.value = '';
            sendButton.disabled = true;
            sendButton.textContent = 'Thinking...';
            
            // Show typing indicator
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message assistant typing';
            typingDiv.innerHTML = '<div class="message-content">ðŸ’­ Thinking...</div>';
            document.getElementById('messages').appendChild(typingDiv);
            
            // Simulate thinking time and generate response
            setTimeout(() => {
                // Remove typing indicator
                typingDiv.remove();
                
                // Generate and add response
                const mode = document.getElementById('responseMode').value;
                const response = getSmartResponse(message, mode);
                addMessage(response, 'assistant');
                
                // Re-enable send button
                sendButton.disabled = false;
                sendButton.textContent = 'Send';
                input.focus();
            }, 800 + Math.random() * 1200); // Random delay between 0.8-2 seconds
        }

        // Enter key support
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Focus input on load
        window.addEventListener('load', function() {
            document.getElementById('messageInput').focus();
        });
    </script>
</body>
</html>
